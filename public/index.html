<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S. Giovanni Maria Vianney - Curato D'ars</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="top">
        <h1>S. Giovanni Maria Vianney - Curato D'ars</h1>

        <nav class="section-nav">
            <ul>
                <li><a href="#search-section">Cerca PDF Disponibili</a></li>
                <li><a href="#upload-section">Aggiungi un Nuovo PDF</a></li>
                <li><a href="#playlist-section">La Tua Playlist</a></li>
                <li><a href="#saved-playlists-section">Playlist Salvate</a></li>
            </ul>
        </nav>

        <section id="search-section" class="file-search">
            <h2>Cerca PDF Disponibili <a href="#top" class="return-to-top" title="Torna all'inizio">&#x2302;</a></h2>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Cerca un canto...">

                <span id="clear-search-btn" class="clear-search-btn" style="display: none;">&times;</span>
            </div>
            <div id="search-results" class="file-list">
                <li class="file-item">
                    <span class="file-name">NomeFile.pdf</span>
                    <div class="button-container">
                        <button class="show-diagrams-btn">Diagrammi</button>
                        <a href="URL_DEL_FILE" target="_blank" class="button-link">Visualizza</a>
                        <button class="add-to-playlist-btn">Aggiungi a Playlist</button>
                    </div>
                </li>
            </div>
            
            <div class="pagination-controls" id="search-pagination">
            </div>
        </section>


        <section id="upload-section" class="file-upload">
            <h2>Aggiungi un Nuovo PDF <a href="#top" class="return-to-top" title="Torna all'inizio">&#x2302;</a></h2>
            <form id="uploadPdfForm">
                <input type="file" id="pdfFileInput" name="pdfFile" accept=".pdf" style="margin-left: 250px;" >
                <p id="upload-warning-message" class="hidden">
                    ⚠️ Attenzione: Il file verrà salvato con il suo nome originale. Se esiste già un file con lo stesso nome, questo verrà sovrascritto.
                </p>
                <button type="submit">Carica PDF</button>
            </form>
            <p id="upload-message"></p>
        </section>

        <section id="playlist-section" class="playlist-section">
            <h2>La Tua Playlist (Max 15 File) <a href="#top" class="return-to-top" title="Torna all'inizio">&#x2302;</a></h2>
            <ul id="playlist" class="file-list">
                </ul>
            <p id="playlist-message"></p>
            <div class="playlist-actions">
                <input type="text" id="playlist-name-input" placeholder="Nome della playlist">
                <button id="save-playlist-btn">Salva Playlist</button>
                <button id="clear-playlist-btn">Svuota Playlist</button>
                <p id="playlist-save-message"></p>
            </div>
        </section>

            <section id="saved-playlists-section" class="saved-playlists">
                <h2>Playlist Salvate <a href="#top" class="return-to-top" title="Torna all'inizio">&#x2302;</a></h2>
                <ul id="saved-playlists-list">
                    </ul>
                <p id="saved-playlists-message"></p>

                <div id="clicked-playlist-preview" class="clicked-playlist-preview hidden">
                    <h3>Anteprima Playlist: <span id="preview-playlist-name"></span></h3>
                    <ul id="clicked-preview-file-list">
                        </ul>
                    <button id="close-preview-btn">Chiudi Anteprima</button>
                </div>
            </section>
        </div>
    </div>  
    <script src="script.js"></script>

    <section id="upload-section" class="file-upload">
    </section>

    <div id="diagrams-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3>Diagrammi Accordi per: <span id="diagrams-filename"></span></h3>
            <div id="diagrams-container">
            </div>
        </div>
    </div>


</body>
</html>